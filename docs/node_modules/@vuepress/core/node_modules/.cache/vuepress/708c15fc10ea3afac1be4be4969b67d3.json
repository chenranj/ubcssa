{"remainingRequest":"/Users/chenranj/Downloads/ubcssa/docs/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/chenranj/Downloads/ubcssa/docs/node_modules/vuepress-plugin-fulltext-search/services/flexsearchSvc.js","dependencies":[{"path":"/Users/chenranj/Downloads/ubcssa/docs/node_modules/vuepress-plugin-fulltext-search/services/flexsearchSvc.js","mtime":1627263858000},{"path":"/Users/chenranj/Downloads/ubcssa/docs/node_modules/cache-loader/dist/cjs.js","mtime":1627263858000},{"path":"/Users/chenranj/Downloads/ubcssa/docs/node_modules/babel-loader/lib/index.js","mtime":1627263858000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvY2hlbnJhbmovRG93bmxvYWRzL3ViY3NzYS9kb2NzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY2hlbnJhbmovRG93bmxvYWRzL3ViY3NzYS9kb2NzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NoZW5yYW5qL0Rvd25sb2Fkcy91YmNzc2EvZG9jcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCBGbGV4c2VhcmNoIGZyb20gJ2ZsZXhzZWFyY2gnOyAvLyBVc2Ugd2hlbiBmbGV4U2VhcmNoIHYwLjcuMCB3aWxsIGJlIGF2YWlsYWJsZQovLyBpbXBvcnQgY3lyaWxsaWNDaGFyc2V0IGZyb20gJ2ZsZXhzZWFyY2gvZGlzdC9sYW5nL2N5cmlsbGljL2RlZmF1bHQubWluLmpzJwovLyBpbXBvcnQgY2prQ2hhcnNldCBmcm9tICdmbGV4c2VhcmNoL2Rpc3QvbGFuZy9jamsvZGVmYXVsdC5taW4uanMnCgppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwp2YXIgaW5kZXggPSBudWxsOwp2YXIgY3lyaWxsaWNJbmRleCA9IG51bGw7CnZhciBjamtJbmRleCA9IG51bGw7CnZhciBwYWdlc0J5UGF0aCA9IG51bGw7CnZhciBjamtSZWdleCA9IC9bXHxcdTMxMzEtXHUzMTYzXHVBQzAwLVx1RDdBM118W1x1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkNDXHVGQTBFXHVGQTBGXHVGQTExXHVGQTEzXHVGQTE0XHVGQTFGXHVGQTIxXHVGQTIzXHVGQTI0XHVGQTI3LVx1RkEyOV18KD86W1x1RDg0MC1cdUQ4NjhdKD8hW1x1REMwMC1cdURGRkZdKSkoPzooPzpbXlx1RDgwMC1cdURCRkZdfF4pW1x1REMwMC1cdURGRkZdKXwoPzpcdUQ4NjkoPyFbXHVEQzAwLVx1REZGRl0pKSg/Oig/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdKXwoPzpbXHVEODZBLVx1RDg2Q10oPyFbXHVEQzAwLVx1REZGRl0pKSg/Oig/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REZGRl0pfCg/Olx1RDg2RCg/IVtcdURDMDAtXHVERkZGXSkpKD86KD86W15cdUQ4MDAtXHVEQkZGXXxeKVtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl0pfCg/Olx1RDg2RSg/IVtcdURDMDAtXHVERkZGXSkpKD86KD86W15cdUQ4MDAtXHVEQkZGXXxeKVtcdURDMDAtXHVEQzFEXSl8W1x1MzA0MS1cdTMwOTZdfFtcdTMwQTEtXHUzMEZBXS9naTsKZXhwb3J0IGRlZmF1bHQgewogIGJ1aWxkSW5kZXg6IGZ1bmN0aW9uIGJ1aWxkSW5kZXgoYWxsUGFnZXMsIG9wdGlvbnMpIHsKICAgIHZhciBwYWdlcyA9IGFsbFBhZ2VzLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICByZXR1cm4gIXAuZnJvbnRtYXR0ZXIgfHwgcC5mcm9udG1hdHRlci5zZWFyY2ggIT09IGZhbHNlOwogICAgfSk7CiAgICB2YXIgaW5kZXhTZXR0aW5ncyA9IHsKICAgICAgZW5jb2RlOiBvcHRpb25zLmVuY29kZSB8fCAnc2ltcGxlJywKICAgICAgdG9rZW5pemU6IG9wdGlvbnMudG9rZW5pemUgfHwgJ2ZvcndhcmQnLAogICAgICBzcGxpdDogb3B0aW9ucy5zcGxpdCB8fCAvXFcrLywKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIGRvYzogewogICAgICAgIGlkOiAna2V5JywKICAgICAgICAvLyBoZXJlIHlvdSBjaG9vc2UgdGhlIGZpZWxkcyB5b3Ugd2FudCB0byBpbmRleC4KICAgICAgICAvLyBmb3IgbWUgSSB3aWxsIHNlYXJjaCBpbiB0aGUgdGl0bGUgYW5kIHRoZSBjb250ZW50IG9mIGVhY2ggcGFnZS4KICAgICAgICAvLyBvZiBjb3Vyc2UgSSBzdHJpcHBlZCB0aGUgY29udGVudCBiZWZvcmUgc28gSSB1c2UgdGhlIHBsYWluIHRleHQgY29udGVudCBub3QgdGhlIG1hcmtkb3duIHRleHQKICAgICAgICBmaWVsZDogWyd0aXRsZScsICdoZWFkZXJzU3RyJywgJ2NvbnRlbnQnXQogICAgICB9CiAgICB9OwogICAgaW5kZXggPSBuZXcgRmxleHNlYXJjaChpbmRleFNldHRpbmdzKTsKICAgIGluZGV4LmFkZChwYWdlcyk7CiAgICB2YXIgY3lyaWxsaWNQYWdlcyA9IHBhZ2VzLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICByZXR1cm4gcC5jaGFyc2V0cy5jeXJpbGxpYzsKICAgIH0pOwogICAgdmFyIGNqa1BhZ2VzID0gcGFnZXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgIHJldHVybiBwLmNoYXJzZXRzLmNqazsKICAgIH0pOwoKICAgIGlmIChjeXJpbGxpY1BhZ2VzLmxlbmd0aCkgewogICAgICBjeXJpbGxpY0luZGV4ID0gbmV3IEZsZXhzZWFyY2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpbmRleFNldHRpbmdzKSwge30sIHsKICAgICAgICBlbmNvZGU6ICdpY2FzZScsCiAgICAgICAgc3BsaXQ6IC9ccysvLAogICAgICAgIHRva2VuaXplOiAnZm9yd2FyZCcKICAgICAgfSkpOwogICAgICBjeXJpbGxpY0luZGV4LmFkZChjeXJpbGxpY1BhZ2VzKTsKICAgIH0KCiAgICBpZiAoY2prUGFnZXMubGVuZ3RoKSB7CiAgICAgIGNqa0luZGV4ID0gbmV3IEZsZXhzZWFyY2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpbmRleFNldHRpbmdzKSwge30sIHsKICAgICAgICBlbmNvZGU6IGZhbHNlLAogICAgICAgIHRva2VuaXplOiBmdW5jdGlvbiB0b2tlbml6ZShzdHIpIHsKICAgICAgICAgIHZhciBjamtXb3JkcyA9IFtdOwogICAgICAgICAgdmFyIG0gPSBudWxsOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgbSA9IGNqa1JlZ2V4LmV4ZWMoc3RyKTsKCiAgICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgICAgY2prV29yZHMucHVzaChtWzBdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSB3aGlsZSAobSk7CgogICAgICAgICAgcmV0dXJuIGNqa1dvcmRzOwogICAgICAgIH0KICAgICAgfSkpOwogICAgICBjamtJbmRleC5hZGQoY2prUGFnZXMpOwogICAgfQoKICAgIHBhZ2VzQnlQYXRoID0gXy5rZXlCeShwYWdlcywgJ3BhdGgnKTsKICB9LAogIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChxdWVyeVN0cmluZywgcXVlcnlUZXJtcykgewogICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbGltaXQsIHNlYXJjaFBhcmFtcywgc2VhcmNoUmVzdWx0MSwgc2VhcmNoUmVzdWx0Miwgc2VhcmNoUmVzdWx0Mywgc2VhcmNoUmVzdWx0LCByZXN1bHQsIHJlc3VsdEJ5UGFyZW50OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgbGltaXQgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgX2FyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1syXSA6IDc7CiAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zID0gW3sKICAgICAgICAgICAgICAgIGZpZWxkOiAndGl0bGUnLAogICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5U3RyaW5nLAogICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0LAogICAgICAgICAgICAgICAgYm9vc3Q6IDEwCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZmllbGQ6ICdoZWFkZXJzU3RyJywKICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVN0cmluZywKICAgICAgICAgICAgICAgIGxpbWl0OiBsaW1pdCwKICAgICAgICAgICAgICAgIGJvb3N0OiA3CiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZmllbGQ6ICdjb250ZW50JywKICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVN0cmluZywKICAgICAgICAgICAgICAgIGxpbWl0OiBsaW1pdAogICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBpbmRleC5zZWFyY2goc2VhcmNoUGFyYW1zKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQxID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFjeXJpbGxpY0luZGV4KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBjeXJpbGxpY0luZGV4LnNlYXJjaChzZWFyY2hQYXJhbXMpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gW107CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHNlYXJjaFJlc3VsdDIgPSBfY29udGV4dC50MDsKCiAgICAgICAgICAgICAgaWYgKCFjamtJbmRleCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIGNqa0luZGV4LnNlYXJjaChzZWFyY2hQYXJhbXMpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBfY29udGV4dC50MSA9IFtdOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQzID0gX2NvbnRleHQudDE7CiAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0ID0gXy51bmlxQnkoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZWFyY2hSZXN1bHQxKSwgX3RvQ29uc3VtYWJsZUFycmF5KHNlYXJjaFJlc3VsdDIpLCBfdG9Db25zdW1hYmxlQXJyYXkoc2VhcmNoUmVzdWx0MykpLCAncGF0aCcpOwogICAgICAgICAgICAgIHJlc3VsdCA9IHNlYXJjaFJlc3VsdC5tYXAoZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhZ2UpLCB7fSwgewogICAgICAgICAgICAgICAgICBwYXJlbnRQYWdlVGl0bGU6IGdldFBhcmVudFBhZ2VUaXRsZShwYWdlKQogICAgICAgICAgICAgICAgfSwgZ2V0QWRkaXRpb25hbEluZm8ocGFnZSwgbm9ybWFsaXplU3RyaW5nKHF1ZXJ5U3RyaW5nKSwgcXVlcnlUZXJtcykpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJlc3VsdEJ5UGFyZW50ID0gXy5ncm91cEJ5KHJlc3VsdCwgJ3BhcmVudFBhZ2VUaXRsZScpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF8udmFsdWVzKHJlc3VsdEJ5UGFyZW50KS5tYXAoZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgsIGkpIHsKICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHJldHVybiB4OwogICAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB4KSwge30sIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnRQYWdlVGl0bGU6IG51bGwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KS5mbGF0KCkpOwoKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG5vcm1hbGl6ZVN0cmluZzogbm9ybWFsaXplU3RyaW5nCn07CgpmdW5jdGlvbiBnZXRQYXJlbnRQYWdlVGl0bGUocGFnZSkgewogIHZhciBwYXRoUGFydHMgPSBwYWdlLnBhdGguc3BsaXQoJy8nKTsKICB2YXIgcGFyZW50UGFnZVBhdGggPSAnLyc7CiAgaWYgKHBhdGhQYXJ0c1sxXSkgcGFyZW50UGFnZVBhdGggPSAiLyIuY29uY2F0KHBhdGhQYXJ0c1sxXSwgIi8iKTsKICB2YXIgcGFyZW50UGFnZSA9IHBhZ2VzQnlQYXRoW3BhcmVudFBhZ2VQYXRoXSB8fCBwYWdlOwogIHJldHVybiBwYXJlbnRQYWdlLnRpdGxlOwp9CgpmdW5jdGlvbiBnZXRBZGRpdGlvbmFsSW5mbyhwYWdlLCBxdWVyeVN0cmluZywgcXVlcnlUZXJtcykgewogIHZhciBxdWVyeSA9IHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCk7CiAgdmFyIG1hdGNoID0gZ2V0TWF0Y2gocGFnZSwgcXVlcnksIHF1ZXJ5VGVybXMpOwogIGlmICghbWF0Y2gpIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGdldEZ1bGxIZWFkaW5nKHBhZ2UpKSwge30sIHsKICAgIHNsdWc6ICcnLAogICAgY29udGVudFN0cjogbnVsbAogIH0pOwoKICBpZiAobWF0Y2guaGVhZGVySW5kZXggIT0gbnVsbCkgewogICAgLy8gaGVhZGVyIG1hdGNoCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRGdWxsSGVhZGluZyhwYWdlLCBtYXRjaC5oZWFkZXJJbmRleCwgbWF0Y2gpKSwge30sIHsKICAgICAgc2x1ZzogJyMnICsgcGFnZS5oZWFkZXJzW21hdGNoLmhlYWRlckluZGV4XS5zbHVnLAogICAgICBjb250ZW50U3RyOiBudWxsCiAgICB9KTsKICB9IC8vIGNvbnRlbnQgbWF0Y2gKCgogIHZhciBoZWFkZXJJbmRleCA9IF8uZmluZExhc3RJbmRleChwYWdlLmhlYWRlcnMgfHwgW10sIGZ1bmN0aW9uIChoKSB7CiAgICByZXR1cm4gaC5jaGFySW5kZXggIT0gbnVsbCAmJiBoLmNoYXJJbmRleCA8IG1hdGNoLmNoYXJJbmRleDsKICB9KTsKCiAgaWYgKGhlYWRlckluZGV4ID09PSAtMSkgaGVhZGVySW5kZXggPSBudWxsOwogIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGdldEZ1bGxIZWFkaW5nKHBhZ2UsIGhlYWRlckluZGV4KSksIHt9LCB7CiAgICBzbHVnOiBoZWFkZXJJbmRleCA9PSBudWxsID8gJycgOiAnIycgKyBwYWdlLmhlYWRlcnNbaGVhZGVySW5kZXhdLnNsdWcKICB9LCBnZXRDb250ZW50U3RyKHBhZ2UsIG1hdGNoKSk7Cn0KCmZ1bmN0aW9uIGdldEZ1bGxIZWFkaW5nKHBhZ2UsIGhlYWRlckluZGV4LCBtYXRjaCkgewogIGlmIChoZWFkZXJJbmRleCA9PSBudWxsKSByZXR1cm4gewogICAgaGVhZGluZ1N0cjogcGFnZS50aXRsZQogIH07CiAgdmFyIGhlYWRlcnNQYXRoID0gW107CgogIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgdmFyIGhlYWRlciA9IHBhZ2UuaGVhZGVyc1toZWFkZXJJbmRleF07CiAgICBoZWFkZXJzUGF0aC51bnNoaWZ0KGhlYWRlcik7CiAgICBoZWFkZXJJbmRleCA9IF8uZmluZExhc3RJbmRleChwYWdlLmhlYWRlcnMsIGZ1bmN0aW9uIChoKSB7CiAgICAgIHJldHVybiBoLmxldmVsID09PSBoZWFkZXIubGV2ZWwgLSAxOwogICAgfSwgaGVhZGVySW5kZXggLSAxKTsKICAgIGlmIChoZWFkZXJJbmRleCA9PT0gLTEpIGhlYWRlckluZGV4ID0gbnVsbDsKICB9OwoKICB3aGlsZSAoaGVhZGVySW5kZXggIT0gbnVsbCkgewogICAgX2xvb3AoKTsKICB9CgogIHZhciBoZWFkaW5nU3RyID0gaGVhZGVyc1BhdGgubWFwKGZ1bmN0aW9uIChoKSB7CiAgICByZXR1cm4gaC50aXRsZTsKICB9KS5qb2luKCcgPiAnKTsKICB2YXIgcHJlZml4UGF0aCA9IGhlYWRlcnNQYXRoLnNsaWNlKDAsIC0xKTsKICB2YXIgcHJlZml4TGVuZ3RoID0gXy5zdW0ocHJlZml4UGF0aC5tYXAoZnVuY3Rpb24gKHApIHsKICAgIHJldHVybiAocC50aXRsZSB8fCAnJykubGVuZ3RoOwogIH0pKSArIHByZWZpeFBhdGgubGVuZ3RoICogMzsKICB2YXIgaGVhZGluZ0hpZ2hsaWdodCA9IG1hdGNoICYmIG1hdGNoLmhlYWRlckluZGV4ICE9IG51bGwgJiYgW21hdGNoLmNoYXJJbmRleCArIHByZWZpeExlbmd0aCwgbWF0Y2gudGVybUxlbmd0aF07CiAgcmV0dXJuIHsKICAgIGhlYWRpbmdTdHI6IGhlYWRpbmdTdHIsCiAgICBoZWFkaW5nSGlnaGxpZ2h0OiBoZWFkaW5nSGlnaGxpZ2h0CiAgfTsKfQoKZnVuY3Rpb24gZ2V0TWF0Y2gocGFnZSwgcXVlcnksIHRlcm1zKSB7CiAgdmFyIG1hdGNoZXMgPSB0ZXJtcy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBnZXRIZWFkZXJNYXRjaChwYWdlLCB0KSB8fCBnZXRDb250ZW50TWF0Y2gocGFnZSwgdCk7CiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICByZXR1cm4gbTsKICB9KTsKICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsOwoKICBpZiAobWF0Y2hlcy5ldmVyeShmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIG0uaGVhZGVySW5kZXggIT0gbnVsbDsKICB9KSkgewogICAgcmV0dXJuIGdldEhlYWRlck1hdGNoKHBhZ2UsIHF1ZXJ5KSB8fCBtYXRjaGVzWzBdOwogIH0KCiAgcmV0dXJuIGdldENvbnRlbnRNYXRjaChwYWdlLCBxdWVyeSkgfHwgbWF0Y2hlcy5maW5kKGZ1bmN0aW9uIChtKSB7CiAgICByZXR1cm4gbS5oZWFkZXJJbmRleCA9PSBudWxsOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRIZWFkZXJNYXRjaChwYWdlLCB0ZXJtKSB7CiAgaWYgKCFwYWdlLmhlYWRlcnMpIHJldHVybiBudWxsOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2UuaGVhZGVycy5sZW5ndGg7IGkrKykgewogICAgdmFyIGggPSBwYWdlLmhlYWRlcnNbaV07CiAgICB2YXIgY2hhckluZGV4ID0gaC5ub3JtYWxpemVkVGl0bGUuaW5kZXhPZih0ZXJtKTsKICAgIGlmIChjaGFySW5kZXggPT09IC0xKSBjb250aW51ZTsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlckluZGV4OiBpLAogICAgICBjaGFySW5kZXg6IGNoYXJJbmRleCwKICAgICAgdGVybUxlbmd0aDogdGVybS5sZW5ndGgKICAgIH07CiAgfQoKICByZXR1cm4gbnVsbDsKfQoKZnVuY3Rpb24gZ2V0Q29udGVudE1hdGNoKHBhZ2UsIHRlcm0pIHsKICBpZiAoIXBhZ2Uubm9ybWFsaXplZENvbnRlbnQpIHJldHVybiBudWxsOwogIHZhciBjaGFySW5kZXggPSBwYWdlLm5vcm1hbGl6ZWRDb250ZW50LmluZGV4T2YodGVybSk7CiAgaWYgKGNoYXJJbmRleCA9PT0gLTEpIHJldHVybiBudWxsOwogIHJldHVybiB7CiAgICBoZWFkZXJJbmRleDogbnVsbCwKICAgIGNoYXJJbmRleDogY2hhckluZGV4LAogICAgdGVybUxlbmd0aDogdGVybS5sZW5ndGgKICB9Owp9CgpmdW5jdGlvbiBnZXRDb250ZW50U3RyKHBhZ2UsIG1hdGNoKSB7CiAgdmFyIHNuaXBwZXRMZW5ndGggPSAxMjA7CiAgdmFyIGNoYXJJbmRleCA9IG1hdGNoLmNoYXJJbmRleCwKICAgICAgdGVybUxlbmd0aCA9IG1hdGNoLnRlcm1MZW5ndGg7CiAgdmFyIGxpbmVTdGFydEluZGV4ID0gcGFnZS5jb250ZW50Lmxhc3RJbmRleE9mKCdcbicsIGNoYXJJbmRleCk7CiAgdmFyIGxpbmVFbmRJbmRleCA9IHBhZ2UuY29udGVudC5pbmRleE9mKCdcbicsIGNoYXJJbmRleCk7CiAgaWYgKGxpbmVTdGFydEluZGV4ID09PSAtMSkgbGluZVN0YXJ0SW5kZXggPSAwOwogIGlmIChsaW5lRW5kSW5kZXggPT09IC0xKSBsaW5lRW5kSW5kZXggPSBwYWdlLmNvbnRlbnQubGVuZ3RoOwogIHZhciBsaW5lID0gcGFnZS5jb250ZW50LnNsaWNlKGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgpOwogIHZhciBsaW5lQ2hhckluZGV4ID0gY2hhckluZGV4IC0gbGluZVN0YXJ0SW5kZXg7CiAgdmFyIGNvbnRlbnRIaWdobGlnaHQgPSBbbGluZUNoYXJJbmRleCwgdGVybUxlbmd0aF07CiAgaWYgKHNuaXBwZXRMZW5ndGggPj0gbGluZS5sZW5ndGgpIHJldHVybiB7CiAgICBjb250ZW50U3RyOiBsaW5lLAogICAgY29udGVudEhpZ2hsaWdodDogY29udGVudEhpZ2hsaWdodAogIH07CgogIHZhciBhZGRpdGlvbmFsQ2hhcmFjdGVyc0Zyb21TdGFydCA9IF8ucm91bmQoKHNuaXBwZXRMZW5ndGggLSB0ZXJtTGVuZ3RoKSAvIDIpOwoKICB2YXIgc25pcHBldFN0YXJ0ID0gTWF0aC5tYXgobGluZUNoYXJJbmRleCAtIGFkZGl0aW9uYWxDaGFyYWN0ZXJzRnJvbVN0YXJ0LCAwKTsKICB2YXIgc25pcHBldEVuZCA9IE1hdGgubWluKHNuaXBwZXRTdGFydCArIHNuaXBwZXRMZW5ndGgsIGxpbmUubGVuZ3RoKTsKICB2YXIgY29udGVudFN0ciA9IGxpbmUuc2xpY2Uoc25pcHBldFN0YXJ0LCBzbmlwcGV0RW5kKTsKICBjb250ZW50SGlnaGxpZ2h0WzBdID0gY29udGVudEhpZ2hsaWdodFswXSAtIHNuaXBwZXRTdGFydDsKCiAgaWYgKHNuaXBwZXRTdGFydCA+IDApIHsKICAgIGNvbnRlbnRTdHIgPSAnLi4uJyArIGNvbnRlbnRTdHI7CiAgICBjb250ZW50SGlnaGxpZ2h0WzBdID0gY29udGVudEhpZ2hsaWdodFswXSArIDM7CiAgfQoKICBpZiAoc25pcHBldEVuZCA8IGxpbmUubGVuZ3RoKSBjb250ZW50U3RyID0gY29udGVudFN0ciArICcuLi4nOwogIHJldHVybiB7CiAgICBjb250ZW50U3RyOiBjb250ZW50U3RyLAogICAgY29udGVudEhpZ2hsaWdodDogY29udGVudEhpZ2hsaWdodAogIH07Cn0KCmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZyhzdHIpIHsKICBpZiAoIXN0cikgcmV0dXJuIHN0cjsKICByZXR1cm4gc3RyLnRyaW0oKS50b0xvd2VyQ2FzZSgpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csICcnKTsKfQ=="},{"version":3,"sources":["/Users/chenranj/Downloads/ubcssa/docs/node_modules/vuepress-plugin-fulltext-search/services/flexsearchSvc.js"],"names":["Flexsearch","_","index","cyrillicIndex","cjkIndex","pagesByPath","cjkRegex","buildIndex","allPages","options","pages","filter","p","frontmatter","search","indexSettings","encode","tokenize","split","async","doc","id","field","add","cyrillicPages","charsets","cyrillic","cjkPages","cjk","length","str","cjkWords","m","exec","push","keyBy","match","queryString","queryTerms","limit","searchParams","query","boost","searchResult1","searchResult2","searchResult3","searchResult","uniqBy","result","map","page","parentPageTitle","getParentPageTitle","getAdditionalInfo","normalizeString","resultByParent","groupBy","values","arr","x","i","flat","pathParts","path","parentPagePath","parentPage","title","toLowerCase","getMatch","getFullHeading","slug","contentStr","headerIndex","headers","findLastIndex","h","charIndex","getContentStr","headingStr","headersPath","header","unshift","level","join","prefixPath","slice","prefixLength","sum","headingHighlight","termLength","terms","matches","t","getHeaderMatch","getContentMatch","every","find","term","normalizedTitle","indexOf","normalizedContent","snippetLength","lineStartIndex","content","lastIndexOf","lineEndIndex","line","lineCharIndex","contentHighlight","additionalCharactersFromStart","round","snippetStart","Math","max","snippetEnd","min","trim","normalize","replace"],"mappings":"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","sourcesContent":["import Flexsearch from 'flexsearch'\n// Use when flexSearch v0.7.0 will be available\n// import cyrillicCharset from 'flexsearch/dist/lang/cyrillic/default.min.js'\n// import cjkCharset from 'flexsearch/dist/lang/cjk/default.min.js'\nimport _ from 'lodash'\n\nlet index = null\nlet cyrillicIndex = null\nlet cjkIndex = null\nlet pagesByPath = null\n\nconst cjkRegex = /[\\u3131-\\u314e|\\u314f-\\u3163|\\uac00-\\ud7a3]|[\\u4E00-\\u9FCC\\u3400-\\u4DB5\\uFA0E\\uFA0F\\uFA11\\uFA13\\uFA14\\uFA1F\\uFA21\\uFA23\\uFA24\\uFA27-\\uFA29]|[\\ud840-\\ud868][\\udc00-\\udfff]|\\ud869[\\udc00-\\uded6\\udf00-\\udfff]|[\\ud86a-\\ud86c][\\udc00-\\udfff]|\\ud86d[\\udc00-\\udf34\\udf40-\\udfff]|\\ud86e[\\udc00-\\udc1d]|[\\u3041-\\u3096]|[\\u30A1-\\u30FA]/giu\n\nexport default {\n  buildIndex(allPages, options) {\n    const pages = allPages.filter(p => !p.frontmatter || p.frontmatter.search !== false)\n    const indexSettings = {\n      encode: options.encode || 'simple',\n      tokenize: options.tokenize || 'forward',\n      split: options.split || /\\W+/,\n      async: true,\n      doc: {\n        id: 'key',\n        // here you choose the fields you want to index.\n        // for me I will search in the title and the content of each page.\n        // of course I stripped the content before so I use the plain text content not the markdown text\n        field: ['title', 'headersStr', 'content'],\n      },\n    }\n    index = new Flexsearch(indexSettings)\n    index.add(pages)\n\n    const cyrillicPages = pages.filter(p => p.charsets.cyrillic)\n    const cjkPages = pages.filter(p => p.charsets.cjk)\n\n    if (cyrillicPages.length) {\n      cyrillicIndex = new Flexsearch({\n        ...indexSettings,\n        encode: 'icase',\n        split: /\\s+/,\n        tokenize: 'forward',\n      })\n      cyrillicIndex.add(cyrillicPages)\n    }\n    if (cjkPages.length) {\n      cjkIndex = new Flexsearch({\n        ...indexSettings,\n        encode: false,\n        tokenize: function(str) {\n          const cjkWords = []\n          let m = null\n          do {\n            m = cjkRegex.exec(str)\n            if (m) {\n              cjkWords.push(m[0])\n            }\n          } while (m)\n          return cjkWords\n        },\n      })\n      cjkIndex.add(cjkPages)\n    }\n    pagesByPath = _.keyBy(pages, 'path')\n  },\n  async match(queryString, queryTerms, limit = 7) {\n    const searchParams = [\n      {\n        field: 'title',\n        query: queryString,\n        limit,\n        boost: 10,\n      },\n      {\n        field: 'headersStr',\n        query: queryString,\n        limit,\n        boost: 7,\n      },\n      {\n        field: 'content',\n        query: queryString,\n        limit,\n      },\n    ]\n    const searchResult1 = await index.search(searchParams)\n    const searchResult2 = cyrillicIndex ? await cyrillicIndex.search(searchParams) : []\n    const searchResult3 = cjkIndex ? await cjkIndex.search(searchParams) : []\n    const searchResult = _.uniqBy([...searchResult1, ...searchResult2, ...searchResult3], 'path')\n    const result = searchResult.map(page => ({\n      ...page,\n      parentPageTitle: getParentPageTitle(page),\n      ...getAdditionalInfo(page, normalizeString(queryString), queryTerms),\n    }))\n\n    const resultByParent = _.groupBy(result, 'parentPageTitle')\n    return _.values(resultByParent)\n      .map(arr =>\n        arr.map((x, i) => {\n          if (i === 0) return x\n          return { ...x, parentPageTitle: null }\n        }),\n      )\n      .flat()\n  },\n  normalizeString,\n}\n\nfunction getParentPageTitle(page) {\n  const pathParts = page.path.split('/')\n  let parentPagePath = '/'\n  if (pathParts[1]) parentPagePath = `/${pathParts[1]}/`\n\n  const parentPage = pagesByPath[parentPagePath] || page\n  return parentPage.title\n}\n\nfunction getAdditionalInfo(page, queryString, queryTerms) {\n  const query = queryString.toLowerCase()\n  const match = getMatch(page, query, queryTerms)\n  if (!match)\n    return {\n      ...getFullHeading(page),\n      slug: '',\n      contentStr: null,\n    }\n\n  if (match.headerIndex != null) {\n    // header match\n    return {\n      ...getFullHeading(page, match.headerIndex, match),\n      slug: '#' + page.headers[match.headerIndex].slug,\n      contentStr: null,\n    }\n  }\n\n  // content match\n  let headerIndex = _.findLastIndex(page.headers || [], h => h.charIndex != null && h.charIndex < match.charIndex)\n  if (headerIndex === -1) headerIndex = null\n\n  return {\n    ...getFullHeading(page, headerIndex),\n    slug: headerIndex == null ? '' : '#' + page.headers[headerIndex].slug,\n    ...getContentStr(page, match),\n  }\n}\n\nfunction getFullHeading(page, headerIndex, match) {\n  if (headerIndex == null) return { headingStr: page.title }\n  const headersPath = []\n  while (headerIndex != null) {\n    const header = page.headers[headerIndex]\n    headersPath.unshift(header)\n    headerIndex = _.findLastIndex(page.headers, h => h.level === header.level - 1, headerIndex - 1)\n    if (headerIndex === -1) headerIndex = null\n  }\n\n  const headingStr = headersPath.map(h => h.title).join(' > ')\n  const prefixPath = headersPath.slice(0, -1)\n  const prefixLength = _.sum(prefixPath.map(p => (p.title || '').length)) + prefixPath.length * 3\n  const headingHighlight = match && match.headerIndex != null && [match.charIndex + prefixLength, match.termLength]\n  return { headingStr, headingHighlight }\n}\n\nfunction getMatch(page, query, terms) {\n  const matches = terms\n    .map(t => {\n      return getHeaderMatch(page, t) || getContentMatch(page, t)\n    })\n    .filter(m => m)\n  if (matches.length === 0) return null\n\n  if (matches.every(m => m.headerIndex != null)) {\n    return getHeaderMatch(page, query) || matches[0]\n  }\n\n  return getContentMatch(page, query) || matches.find(m => m.headerIndex == null)\n}\n\nfunction getHeaderMatch(page, term) {\n  if (!page.headers) return null\n  for (let i = 0; i < page.headers.length; i++) {\n    const h = page.headers[i]\n    const charIndex = h.normalizedTitle.indexOf(term)\n    if (charIndex === -1) continue\n    return {\n      headerIndex: i,\n      charIndex,\n      termLength: term.length,\n    }\n  }\n  return null\n}\n\nfunction getContentMatch(page, term) {\n  if (!page.normalizedContent) return null\n  const charIndex = page.normalizedContent.indexOf(term)\n  if (charIndex === -1) return null\n\n  return { headerIndex: null, charIndex, termLength: term.length }\n}\n\nfunction getContentStr(page, match) {\n  const snippetLength = 120\n  const { charIndex, termLength } = match\n\n  let lineStartIndex = page.content.lastIndexOf('\\n', charIndex)\n  let lineEndIndex = page.content.indexOf('\\n', charIndex)\n\n  if (lineStartIndex === -1) lineStartIndex = 0\n  if (lineEndIndex === -1) lineEndIndex = page.content.length\n\n  const line = page.content.slice(lineStartIndex, lineEndIndex)\n  const lineCharIndex = charIndex - lineStartIndex\n  const contentHighlight = [lineCharIndex, termLength]\n\n  if (snippetLength >= line.length) return { contentStr: line, contentHighlight }\n\n  const additionalCharactersFromStart = _.round((snippetLength - termLength) / 2)\n  const snippetStart = Math.max(lineCharIndex - additionalCharactersFromStart, 0)\n  const snippetEnd = Math.min(snippetStart + snippetLength, line.length)\n  let contentStr = line.slice(snippetStart, snippetEnd)\n  contentHighlight[0] = contentHighlight[0] - snippetStart\n\n  if (snippetStart > 0) {\n    contentStr = '...' + contentStr\n    contentHighlight[0] = contentHighlight[0] + 3\n  }\n  if (snippetEnd < line.length) contentStr = contentStr + '...'\n  return {\n    contentStr,\n    contentHighlight,\n  }\n}\n\nfunction normalizeString(str) {\n  if (!str) return str\n  return str\n    .trim()\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n}\n"]}]}